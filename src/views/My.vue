<template>
  <!-- 个人中心页面 -->
  <el-container>
    <el-header>
      <div class="container">
        <div class="logo">
          <svg
            t="1675828249210"
            class="icon"
            viewBox="0 0 1024 1024"
            version="1.1"
            xmlns="http://www.w3.org/2000/svg"
            p-id="5130"
            width="40"
            height="40"
          >
            <path
              d="M707.9 229.3H183.7c-48.3 0-87.4 39.1-87.4 87.4v524.2c0 48.3 39.1 87.4 87.4 87.4h524.2c48.3 0 87.4-39.1 87.4-87.4V316.6c0-48.2-39.1-87.3-87.4-87.3z m21.9 611.6c0 12-9.8 21.8-21.8 21.8H183.7c-12 0-21.8-9.8-21.8-21.8V316.6c0-12 9.8-21.8 21.8-21.8h524.2c12 0 21.8 9.8 21.8 21.8v524.3z"
              p-id="5131"
            ></path>
            <path
              d="M920.7 112.7c-5.9-8.7-15.9-14.4-27.2-14.4h-546c-18.1 0-32.8 14.7-32.8 32.8s14.7 32.8 32.8 32.8h513.3V677c0 18.1 14.7 32.8 32.8 32.8 18.1 0 32.8-14.7 32.8-32.8V131c-0.1-6.8-2.1-13.1-5.7-18.3z"
              p-id="5132"
            ></path>
          </svg>
          <span>个人中心</span>
        </div>
        <!-- state用来确定当前是个人中心页 /my 需要显示回到首页 -->
        <AvatarWrapper :state="'my'" class="avatar_wrapper"></AvatarWrapper>
      </div>
    </el-header>
    <el-main>
      <div class="container">
        <div class="left">
          <div class="info">
            <div class="img"><img :src="avatar" alt="" /></div>
            <p>{{ name }}</p>
            <div class="list">
              <a
                :class="{ active: tabStatus == 'Basicdata' }"
                @click="toTab('Basicdata')"
                ><svg
                  t="1676453981369"
                  class="icon"
                  viewBox="0 0 1024 1024"
                  version="1.1"
                  xmlns="http://www.w3.org/2000/svg"
                  p-id="2316"
                  width="19"
                  height="19"
                >
                  <path
                    d="M917.333333 512c-12.8 0-21.333333 8.533333-21.333333 21.333333v85.333334c0 12.8 8.533333 21.333333 21.333333 21.333333s21.333333-8.533333 21.333334-21.333333v-85.333334c0-12.8-8.533333-21.333333-21.333334-21.333333zM902.4 433.066667c-4.266667 4.266667-6.4 8.533333-6.4 14.933333 0 2.133333 0 6.4 2.133333 8.533333s2.133333 4.266667 4.266667 6.4c4.266667 4.266667 10.666667 6.4 14.933333 6.4h4.266667c2.133333 0 2.133333 0 4.266667-2.133333 2.133333 0 2.133333-2.133333 4.266666-2.133333s2.133333-2.133333 4.266667-2.133334c2.133333-2.133333 4.266667-4.266667 4.266667-6.4V448c0-6.4-2.133333-10.666667-6.4-14.933333-8.533333-8.533333-21.333333-8.533333-29.866667 0z"
                    fill=""
                    p-id="2317"
                  ></path>
                  <path
                    d="M938.666667 298.666667c0-2.133333 0-4.266667-2.133334-8.533334-2.133333-2.133333-2.133333-4.266667-4.266666-6.4l-256-256c-2.133333-2.133333-4.266667-4.266667-6.4-4.266666-2.133333-2.133333-6.4-2.133333-8.533334-2.133334H213.333333C142.933333 21.333333 85.333333 78.933333 85.333333 149.333333v725.333334c0 70.4 57.6 128 128 128h597.333334c70.4 0 128-57.6 128-128v-170.666667c0-12.8-8.533333-21.333333-21.333334-21.333333s-21.333333 8.533333-21.333333 21.333333v170.666667c0 46.933333-38.4 85.333333-85.333333 85.333333H213.333333c-46.933333 0-85.333333-38.4-85.333333-85.333333V149.333333c0-46.933333 38.4-85.333333 85.333333-85.333333h426.666667v128c0 70.4 57.6 128 128 128h128v42.666667c0 12.8 8.533333 21.333333 21.333333 21.333333s21.333333-8.533333 21.333334-21.333333v-64zM682.666667 192V93.866667l183.466666 183.466666H768c-46.933333 0-85.333333-38.4-85.333333-85.333333z"
                    fill=""
                    p-id="2318"
                  ></path>
                  <path
                    d="M234.666667 298.666667h277.333333c12.8 0 21.333333-8.533333 21.333333-21.333334s-8.533333-21.333333-21.333333-21.333333H234.666667c-12.8 0-21.333333 8.533333-21.333334 21.333333s8.533333 21.333333 21.333334 21.333334zM768 490.666667H234.666667c-12.8 0-21.333333 8.533333-21.333334 21.333333s8.533333 21.333333 21.333334 21.333333h533.333333c12.8 0 21.333333-8.533333 21.333333-21.333333s-8.533333-21.333333-21.333333-21.333333zM768 725.333333H234.666667c-12.8 0-21.333333 8.533333-21.333334 21.333334s8.533333 21.333333 21.333334 21.333333h533.333333c12.8 0 21.333333-8.533333 21.333333-21.333333s-8.533333-21.333333-21.333333-21.333334z"
                    fill=""
                    p-id="2319"
                  ></path></svg
                >基本资料</a
              >
              <a
                :class="{ active: tabStatus == 'consultation' }"
                @click="toTab('consultation')"
                ><svg
                  t="1676454197298"
                  class="icon"
                  viewBox="0 0 1024 1024"
                  version="1.1"
                  xmlns="http://www.w3.org/2000/svg"
                  p-id="4730"
                  data-spm-anchor-id="a313x.7781069.0.i15"
                  width="19"
                  height="19"
                >
                  <path
                    d="M323.18439 1022.601366c-6.094049 0-12.088195-1.398634-17.582829-4.096-13.287024-6.693463-21.778732-20.280195-21.778732-35.165659V835.384195C110.791805 761.356488 0.499512 609.304976 0.499512 441.269073 0.499512 198.606049 229.575805 1.298732 511.20078 1.298732s510.701268 197.40722 510.701269 439.970341c0 238.766829-221.883317 433.676488-497.314342 439.770537l-177.726439 133.669463c-6.893268 5.095024-15.185171 7.892293-23.676878 7.892293zM511.20078 79.822049c-238.267317 0-432.078049 162.141659-432.078048 361.347122 0 142.96039 101.201171 272.733659 257.748292 330.677073 15.384976 5.694439 25.674927 20.380098 25.674927 36.864v95.806439l125.077854-94.108098c6.793366-5.095024 15.085268-7.892293 23.576975-7.892292 238.267317 0 432.078049-162.141659 432.078049-361.347122 0-199.205463-193.810732-361.347122-432.078049-361.347122z m0 0"
                    fill=""
                    p-id="4731"
                    data-spm-anchor-id="a313x.7781069.0.i13"
                    class="selected"
                  ></path>
                  <path
                    d="M486.424976 698.417951c-142.56078 0-258.84722-85.416585-310.996293-228.57678l92.209951-33.667122c37.962927 104.198244 117.685073 164.039805 218.686439 164.039805v98.204097z m0 0"
                    fill=""
                    p-id="4732"
                    data-spm-anchor-id="a313x.7781069.0.i14"
                    class="selected"
                  ></path></svg
                >我的咨询</a
              >
              <a
                :class="{ active: tabStatus == 'report' }"
                @click="toTab('report')"
                ><svg
                  t="1676454258895"
                  class="icon"
                  viewBox="0 0 1024 1024"
                  version="1.1"
                  xmlns="http://www.w3.org/2000/svg"
                  p-id="5918"
                  data-spm-anchor-id="a313x.7781069.0.i20"
                  width="19"
                  height="19"
                >
                  <path
                    d="M324.266667 136.533333a34.133333 34.133333 0 0 1 2.56 68.181334L324.266667 204.8h-119.466667v682.666667h614.4V204.8h-110.933333a34.133333 34.133333 0 0 1-2.56-68.181333L708.266667 136.533333H819.2a68.266667 68.266667 0 0 1 68.181333 64.853334L887.466667 204.8v682.666667a68.266667 68.266667 0 0 1-64.853334 68.181333L819.2 955.733333H204.8a68.266667 68.266667 0 0 1-68.181333-64.853333L136.533333 887.466667V204.8a68.266667 68.266667 0 0 1 64.853334-68.181333L204.8 136.533333h119.466667z"
                    fill=""
                    p-id="5919"
                    data-spm-anchor-id="a313x.7781069.0.i23"
                    class="selected"
                  ></path>
                  <path
                    d="M631.466667 68.266667H392.533333c-56.405333 0-102.4 45.994667-102.4 102.4s45.994667 102.4 102.4 102.4h238.933334c56.405333 0 102.4-45.994667 102.4-102.4s-45.994667-102.4-102.4-102.4zM392.533333 136.533333h238.933334c18.688 0 34.133333 15.445333 34.133333 34.133334s-15.445333 34.133333-34.133333 34.133333H392.533333c-18.688 0-34.133333-15.445333-34.133333-34.133333s15.445333-34.133333 34.133333-34.133334z"
                    fill=""
                    p-id="5920"
                  ></path>
                  <path
                    d="M675.601067 419.601067l48.264533 48.264533-221.866667 221.866667a34.133333 34.133333 0 0 1-48.264533 0l-136.533333-136.533334 48.264533-48.264533L477.866667 617.301333l197.7344-197.717333z"
                    fill=""
                    p-id="5921"
                    data-spm-anchor-id="a313x.7781069.0.i21"
                    class="selected"
                  ></path></svg
                >完成报告</a
              >
            </div>
          </div>
        </div>
        <div class="right">
          <router-view></router-view>
        </div>
      </div>
    </el-main>
  </el-container>
</template>
<script>
import { mapGetters } from "vuex";
import AvatarWrapper from "@/components/avatarWrapper";
export default {
  name: "myView",
  components: { AvatarWrapper },
  mixins: [],
  props: {},
  data() {
    return {
      // 标签栏的状态  Basicdata 表示选中基本资料 consultation 表示我的咨询 report 表示报告 默认基本资料
      tabStatus: "Basicdata",
    };
  },
  computed: {
    ...mapGetters(["avatar", "name"]),
  },
  watch: {},
  mounted() {},
  methods: {
    // tab 切换，路由切换
    toTab(data) {
      this.tabStatus = data;
      this.$router.push({
        path: `/my/${data}`,
      });
    },
  },
};
</script>
<style lang="scss" scoped>
.el-container {
  background: rgb(247, 248, 249);
  .el-header {
    .container {
      width: 80%;
      margin: 0 auto;
      display: flex;
      position: relative;
      .logo {
        height: 60px;
        display: flex;
        align-items: center;
        span {
          margin-left: 10px;
        }
      }
    }
    .avatar_wrapper {
      position: absolute;
      right: 0;
      top: 12px;
    }
  }
  .el-main {
    .container {
      width: 65%;
      height: 80vh;
      padding: 20px;
      // border: black solid 1px;
      margin: 0 auto;
      display: flex;
      // 左侧区域
      .left {
        width: 15vw;
        height: 70%;
        margin-right: 20px;
        background-color: white;
        border-radius: 10px;
        // 用户信息
        .info {
          width: 80%;
          margin: 0 auto;
          margin-top: 50px;
          text-align: center;
          .img {
            width: 90px;
            height: 90px;
            margin: 0 auto;
            border-radius: 50%;
            overflow: hidden;
            img {
              width: 100%;
              height: 100%;
            }
          }
          // 左侧菜单栏
          .list {
            margin-top: 50px;
            a {
              width: 100%;
              display: flex;
              align-items: center;
              height: 35px;
              line-height: 35px;
              border-radius: 5px;
              font-size: 14px;
              cursor: pointer;
              // background-color: rgb(237, 240, 253);
              margin: 10px 0;
              &:hover {
                background-color: #edf0fd;
                color: blue;
                svg {
                  // 设置svg颜色属性，需要确保svg本身的fill属性值为空
                  fill: blue;
                }
              }
              svg {
                margin-left: 24%;
                margin-right: 7%;
              }
            }
            .active {
              background-color: rgb(237, 240, 253);
              color: blue;
              svg {
                fill: blue;
              }
            }
          }
        }
      }
      .right {
        width: 45vw;
        padding: 20px;
        height: 90%;
        background-color: white;
        border-radius: 10px;
      }
    }
  }
}
</style>
